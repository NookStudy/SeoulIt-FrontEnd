<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J08Function02.html</title>
    <script>
        /*
            this.변수명 => 전역변수
            변수명 => 지역변수
            키워드 this는 JS에서는 window객체를 가리키는 것으로 전역변수를 구분할 때 사용.
        */
        document.write("<h2>지역변수와 전역변수</h2>");
        //1. 전역변수로 선언. 해당 HTML문서 전체에서 사용가능.
        var globalVar = 100;
        //3. 인수로 전달된 100은 매개변수인 globalVar가 받는다.
        function conflict(globalVar){
            /*
                전역변수와 지역변수가 동일한 이름으로 충돌이 발생하므로 구분을 위해 this를 사용
                this는 window객체이므로 전역변수를 가리키게 된다.
            */
            this.globalVar = globalVar*2; //전역변수 this.globalVar가 200으로 변함
            document.write("함수안 globalVar = "+globalVar+"<br/>");//globalVar는 그대로 100.
        }
        //2.전역변수 100을 인수로 전달한다.
        conflict(globalVar);
        document.write("함수밖 globalVar="+globalVar+"<br/>");//4.함수내에서 변경된 전역변수.200출력


        //2. 인수 200을 매개변수인 localVar가 받음
        function conflict2(localVar){
            //이 함수에선 변수의 충돌이 없다.
            //전역변수에 250 할당
            globalVar = localVar +50;
            //localvar에 280할당
            localVar = localVar+80;

            //함수내에서 250,280이 출력된다.
            document.write("함수2안 globalVar= "+globalVar+",localVar="+localVar+"<br/>");
        }
        //1. 전역변수가 가진 200을 인수로 전달
        conflict2(globalVar);
        /*
            localVar는 conflict2()의 매개변수 즉 지역변수이므로, 전역적으로는 선언된적이 없다.
            따라서 에러가 발생하여 출력문이 실행되지 않는다.
            해당 에러(주석된 코드)는 f12를 통해 개발자 모드에서 확인할 수 있다.
        */
        // document.write("함수2밖 globalVar="+globalVar+", localVar"+localVar+"<br/>");
        document.write("함수2밖 globalVar="+globalVar+", localVar=선언된적 없음<br/>");
    </script>
</head>
<body>
    
</body>
</html>